<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>porn</title>
</head>
<body style="margin: 0; background-color: darkslategrey;">
    <canvas width=600 height=400 style="margin: auto; margin-top:1rem; display: flex;"></canvas>
    <button style="margin: auto; margin-top:1rem; display: flex;">Change the color!</button>
    <h2 style="margin: auto; margin-top:1rem; text-align: center;">Shiftkey = Paint over the yellow and blue parts</h2>
    <script>
        function refazerBandeira(){
            pincel.fillStyle='#FEDD00';
            pincel.beginPath();
            pincel.moveTo(300, 350);
            pincel.lineTo(50, 200);
            pincel.lineTo(300, 50);
            pincel.lineTo(550, 200);
            pincel.fill();

            pincel.fillStyle='#012169';
            pincel.beginPath();
            pincel.arc(300, 200, 100, 0, 2 * Math.PI);//(x,y,tamanho do raio,angulo inicial,radianos(pi))
            pincel.fill();
        }
        function exibeRetangulo(evento){
            var x = evento.pageX-tela.offsetLeft;
            var y = evento.pageY-tela.offsetTop;
            pincel.fillStyle=cores[indiceCorAtual];
            pincel.beginPath();
            pincel.fillRect(0, y, 600, 80);
            pincel.fill();
            if(evento.shiftKey==false){
                refazerBandeira();
            }
        }
        function mudarCor() {
            if(indiceCorAtual>4){
                indiceCorAtual=0;
            }else{
                indiceCorAtual++;
            }
        }
        var tela = document.querySelector("canvas");
        var pincel = tela.getContext("2d");
        var botao = document.querySelector("button");
        pincel.fillStyle='#009739';
        pincel.fillRect(0, 0, 600, 400);//(x,y,largura,altura)
        refazerBandeira();
        var indiceCorAtual=0;
        var cores=["red","orange","yellow","green","blue","purple"];

        tela.onclick = exibeRetangulo;
        botao.onclick = mudarCor;
    </script>

</body>
</html>